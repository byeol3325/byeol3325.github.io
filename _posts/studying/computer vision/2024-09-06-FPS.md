---
title:  "[Computer Vision] FPS(Farthest Point Sampling)μ— λ€ν•μ—¬" 
categories: studying
tag: [cpp, studying, 3D, point cloud, computer vision, cv]
date: 2024-09-06
toc: true
use_math: true
sidebar:
    nav: "docs"
last_modified_at: 2024-09-06
---

μ΄ κΈ€μ—μ„λ” FPSκ°€ λ¬΄μ—‡μΈμ§€ κ°„λ‹¨ν•κ² μ„¤λ…ν•κ³ , Computer Visionμ—μ„ μ–Έμ  μ–΄λ–»κ² μ“°μ΄λ”μ§€ μμ‹μ™€ ν•¨κ» λ‹¤λ£° μμ •μ…λ‹λ‹¤. (λ³ΈμΈ κ³µλ¶€ λ° κΈ°λ΅μ©)π


# FPS(Farthest Point Sampling)λ€?

FPS(Farthest Point Sampling) μ•κ³ λ¦¬μ¦μ€ μ»΄ν“¨ν„° κ·Έλν”½μ¤ λ° μ»΄ν“¨ν„° λΉ„μ „ λ¶„μ•Όμ—μ„ μμ£Ό μ‚¬μ©λλ” κΈ°λ²•μΌλ΅, **ν¬μΈνΈ ν΄λΌμ°λ“μ—μ„ κ°€μ¥ λ©€λ¦¬ λ–¨μ–΄μ§„ ν¬μΈνΈλ“¤μ„ μμ°¨μ μΌλ΅ μ„ νƒ**ν•λ” λ°©μ‹μ…λ‹λ‹¤. 

FPSλ” **Greedy μ•κ³ λ¦¬μ¦**μ μΌμΆ…μΌλ΅, μ΄μ „ μ„ νƒλ ν¬μΈνΈμ™€μ κ±°λ¦¬λ¥Ό κΈ°μ¤€μΌλ΅ κ·Έ μκ°„μ μµμ  μ„ νƒμ„ ν•©λ‹λ‹¤. μ΄λ” λ―Έλμ μ„ νƒμ„ κ³ λ ¤ν•μ§€ μ•κ³ , ν•­μƒ ν„μ¬ μƒνƒμ—μ„ κ°€μ¥ λ©€λ¦¬ μλ” ν¬μΈνΈλ¥Ό μ„ νƒν•λ” λ°©μ‹μ…λ‹λ‹¤. λΉ„λ΅ λ‹¨μν• λ°©μ‹μ΄μ§€λ§, ν¨μ¨μ μ΄κ³  ν¨κ³Όμ μΈ κ²°κ³Όλ¥Ό λ§λ“¤μ–΄λ‚΄λ” κ²ƒμΌλ΅ μ μ•λ ¤μ Έ μμµλ‹λ‹¤.

**λ€κ·λ¨ λ°μ΄ν„° μ…‹μ—μ„ λ€ν‘μ μΈ ν¬μΈνΈλ¥Ό μ„ νƒν•μ—¬ μ›λ³Έ λ°μ΄ν„°μ μ¤‘μ”ν• νΉμ„±μ„ μ μ§€**ν•λ©΄μ„λ„ **κ³„μ‚° λΉ„μ©μ„ μ¤„μ΄λ” λ°** ν™μ©λ©λ‹λ‹¤. μ‰½κ² λ§ν•΄, μ…λ ¥ λ°μ΄ν„° μ…‹μ—μ„ μ¤‘μ”ν• ν¬μΈνΈλ“¤λ§ μ„ νƒν•μ—¬ **μ μ€ μμ ν¬μΈνΈ**λ΅λ„ **μ›λ³Έ λ°μ΄ν„°λ¥Ό ν¨κ³Όμ μΌλ΅ λ€ν‘ν•λ” κ²ƒ**μ΄ λ©μ μ…λ‹λ‹¤. μ΄λ¬ν• μ•κ³ λ¦¬μ¦μ€ νΉν 3D μ§€μ¤λ©”νΈλ¦¬ μ²λ¦¬, ν¬μΈνΈ ν΄λΌμ°λ“ μ²λ¦¬, ν‘λ©΄ μ¬κµ¬μ„± λ“± λ‹¤μ–‘ν• μ‘μ© λ¶„μ•Όμ—μ„ λ„λ¦¬ μ‚¬μ©λ©λ‹λ‹¤.


# FPS μ•κ³ λ¦¬μ¦ λ™μ‘ κ³Όμ •. μ‹κ°„λ³µμ΅λ„ : O(nk), n: μ…λ ¥ ν¬μΈνΈ μ, k: μ„ νƒν•  ν¬μΈνΈ μ

![FPS(Farthest Point Sampling) Example]({{site.url}}/assets/images/FPS.png)

a. μ„ νƒλ ν¬μΈνΈ μ§‘ν•© μ΄κΈ°ν™”: μ²μμ—λ” μ„ νƒλ ν¬μΈνΈκ°€ μ—†λ” λΉ μƒνƒμ—μ„ μ‹μ‘ν•©λ‹λ‹¤.

b. μ„μμ μ²« ν¬μΈνΈ μ„ νƒ: ν¬μΈνΈ ν΄λΌμ°λ“μ—μ„ μ„μμ ν¬μΈνΈ ν•λ‚λ¥Ό μ„ νƒν•κ³  μ΄λ¥Ό μ„ νƒλ ν¬μΈνΈ μ§‘ν•©μ— μ¶”κ°€ν•©λ‹λ‹¤.

c. κ±°λ¦¬λ¥Ό κ³„μ‚°: λ‚¨μ•„ μλ” λ¨λ“  ν¬μΈνΈλ“¤κ³Ό μ„ νƒλ ν¬μΈνΈλ“¤ μ‚¬μ΄μ κ±°λ¦¬λ¥Ό κ³„μ‚°ν•©λ‹λ‹¤.

d. κ°€μ¥ λ¨Ό ν¬μΈνΈ μ„ νƒ: μ„ νƒλμ§€ μ•μ€ ν¬μΈνΈ μ¤‘μ—μ„ μ„ νƒλ ν¬μΈνΈλ“¤κ³Όμ κ±°λ¦¬κ°€ κ°€μ¥ λ¨Ό ν¬μΈνΈλ¥Ό μ°Ύμ•„ μ„ νƒλ ν¬μΈνΈ μ§‘ν•©μ— μ¶”κ°€ν•©λ‹λ‹¤.

e. λ°λ³µ: c ~ d λ‹¨κ³„λ¥Ό λ°λ³µν•μ—¬ ν•„μ”ν• λ§νΌμ ν¬μΈνΈλ¥Ό μ„ νƒν•©λ‹λ‹¤.


# FPSμ—μ„ κ³ λ¥Έ pointλ“¤μ΄ Keypointκ°€ λλ” μ΄μ 

## Keypointλ€? 

**Keypoint**λ” λ³΄ν†µ **λ°μ΄ν„°λ‚ μ΄λ―Έμ§€μ—μ„ μ¤‘μ”ν• νΉμ§•μ„ λ‚νƒ€λ‚΄λ” ν¬μΈνΈ**λ¥Ό μλ―Έν•©λ‹λ‹¤. 3D ν¬μΈνΈ ν΄λΌμ°λ“μ—μ„λ„ λ§μ°¬κ°€μ§€λ΅, keypointλ” **μ¤‘μ”ν• κµ¬μ΅°μ  μ •λ³΄λ‚ ν•μƒμ„ ν‘ν„ν•λ” ν¬μΈνΈ**μ…λ‹λ‹¤. Keypointλ“¤μ€ **μ›λ³Έ λ°μ΄ν„°μ—μ„ μ „μ²΄μ μΈ ν•νƒλ‚ κµ¬μ΅°λ¥Ό μ ν‘ν„ν•  μ μλ” μ‘μ€ λ¶€λ¶„ μ§‘ν•©**μ…λ‹λ‹¤.


## FPS μ•κ³ λ¦¬μ¦μ—μ„ μ™ Keypointκ°€ λλ”κ°€?

FPSμ—μ„ μ„ νƒλ ν¬μΈνΈλ“¤μ΄ **keypointλ΅ κ°„μ£Όλλ” μ΄μ **λ” μ΄ **ν¬μΈνΈλ“¤μ΄ μ›λ³Έ λ°μ΄ν„°μ μ¤‘μ”ν• νΉμ§•μ„ λ³΄μ΅΄ν•  μ μκΈ° λ•λ¬Έ**μ…λ‹λ‹¤. FPSλ” **μ„ νƒλ ν¬μΈνΈλ“¤ κ°„μ μµλ€ κ±°λ¦¬λ¥Ό μ μ§€ν•μ—¬ κ³ λ¥΄κ² λ¶„ν¬λ λ€ν‘μ μΈ ν¬μΈνΈλ¥Ό μ„ νƒ**ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ **μ „μ²΄ λ°μ΄ν„°μ—μ„ μ¤‘μ”ν• λ¶€λ¶„μ„ μ λ‚νƒ€λ‚Ό μ μλ” ν¬μΈνΈλ“¤μ„ κ³ λ¥΄κ² μ¶”μ¶**ν•κ² λ©λ‹λ‹¤.


### 1. κ³ λ¥΄κ² λ¶„ν¬λ λ€ν‘μ„±

FPSλ” **κΈ°μ΅΄μ— μ„ νƒλ ν¬μΈνΈλ“¤κ³Ό κ°€μ¥ λ©€λ¦¬ λ–¨μ–΄μ§„ ν¬μΈνΈλ¥Ό λ°λ³µμ μΌλ΅ μ„ νƒν•©λ‹λ‹¤.** μ΄ κ³Όμ •μ—μ„ μ „μ²΄ ν¬μΈνΈ ν΄λΌμ°λ“ λ°μ΄ν„°μ—μ„ **μ¤‘λ³µλμ§€ μ•λ” μ •λ³΄λ¥Ό κ°€μ§„ ν¬μΈνΈλ“¤μ„ μ„ νƒ**ν•λ” κ²ƒμ΄λ©°, μ΄λ” μ „μ²΄ λ°μ΄ν„°λ¥Ό μ μ€ μμ ν¬μΈνΈλ΅λ„ μ λ€ν‘ν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

μ¤‘μ”ν• κµ¬μ΅°μ  μ •λ³΄λ¥Ό ν¬ν•¨: κ° μ„ νƒλ ν¬μΈνΈλ” μ„λ΅ λ‹¤λ¥Έ μμ—­μ μ •λ³΄λ¥Ό μ κ³µν•λ―€λ΅, μ „μ²΄ λ°μ΄ν„°λ¥Ό μ μ€ μμ ν¬μΈνΈλ΅ μ μ”μ•½ν•  μ μμµλ‹λ‹¤.


### 2. μ •λ³΄ λ³΄μ΅΄

FPSλ” **κ³µκ°„μ  λ¶„ν¬λ¥Ό μµλ€ν• μ μ§€ν•λ©΄μ„ λ€ν‘μ μΈ ν¬μΈνΈλ“¤μ„ μ„ νƒ**ν•κΈ° λ•λ¬Έμ—, **μ›λ³Έ λ°μ΄ν„°μ ν•μƒμ΄λ‚ μ£Όμ” κµ¬μ΅°λ” μµλ€ν• λ³΄μ΅΄**λ©λ‹λ‹¤. μ΄ λ•λ¬Έμ— **μ„ νƒλ ν¬μΈνΈλ“¤μ΄ μ›λ³Έ ν¬μΈνΈ ν΄λΌμ°λ“μ—μ„ μ¤‘μ”ν• Keypointλ΅** μ—¬κ²¨μ§‘λ‹λ‹¤.

μλ¥Ό λ“¤μ–΄, νΉμ • λ¬Όμ²΄μ λ¨μ„λ¦¬, κµ΄κ³΅, ν‰ν‰ν• λ¶€λ¶„ λ“±μ κµ¬μ΅°μ  νΉμ„±μ€ FPSλ΅ μ„ νƒλ ν¬μΈνΈλ“¤μ— μν•΄ μ ν‘ν„λ  μ μμµλ‹λ‹¤.


### 3. μ¤‘μ”ν• νΉμ§• μ„ νƒ

FPSλ” **μ„ νƒλ ν¬μΈνΈλ“¤μ΄ μ„λ΅ λ©€λ¦¬ λ–¨μ–΄μ Έ μλ” κ²ƒμ„ λ³΄μ¥**ν•©λ‹λ‹¤. μ΄ λ§μ€, **μ¤‘μ”ν• νΉμ§•μ΄ μλ” κ³³λ“¤μ΄ λ€ν‘ ν¬μΈνΈλ΅ μ„ νƒλ  κ°€λ¥μ„±μ΄ ν¬λ‹¤**λ” μλ―Έμ…λ‹λ‹¤. νΉμ • μ§€μ—­μ ν¬μΈνΈλ“¤μ΄ λ°€μ§‘λμ–΄ μλ‹¤λ©΄, κ·Έ μ¤‘ κ°€μ¥ λ¨Ό ν¬μΈνΈλ¥Ό μ„ νƒν•λ” λ°©μ‹μΌλ΅ νΉμ • νΉμ§•μ„ κ°•μ΅°ν•  μ μμµλ‹λ‹¤.

λ¨μ„λ¦¬, κµ¬μ„, κ³΅μ„  κ°™μ€ μ •λ³΄λ” λ” λ§μ€ ν¬μΈνΈλ¥Ό ν•„μ”λ΅ ν•λ―€λ΅, μ΄λ¬ν• νΉμ§•λ“¤μ΄ FPS μ•κ³ λ¦¬μ¦μ—μ„ μμ—°μ¤λ½κ² μ„ νƒλλ” κ²½ν–¥μ΄ μμµλ‹λ‹¤.


# FPSμ μ‘μ© λ¶„μ•Ό

FPSλ” 3D λ°μ΄ν„° μ²λ¦¬μ™€ κ΄€λ ¨λ λ‹¤μ–‘ν• λ¶„μ•Όμ—μ„ ν™μ©λ  μ μμµλ‹λ‹¤. νΉν **ν‘λ©΄ μ¬κµ¬μ„±(surface reconstruction)**μ—μ„ μ¤‘μ”ν• μ—­ν• μ„ ν•©λ‹λ‹¤. μ›λ³Έ ν¬μΈνΈ ν΄λΌμ°λ“μ—μ„ ν•„μ”ν• λ§νΌμ ν¬μΈνΈλ¥Ό μ„ νƒν•μ—¬ λ³µμ΅ν• ν‘λ©΄μ„ μ μ ν μ¬κµ¬μ„±ν•  μ μμµλ‹λ‹¤. λν• **ν¬μΈνΈ ν΄λΌμ°λ“ μ••μ¶•(point cloud compression)**μ—μ„λ„, FPSλ¥Ό ν†µν•΄ λ°μ΄ν„°μ ν¬κΈ°λ¥Ό μ¤„μ΄λ©΄μ„λ„ κ·Έ μ•μ μ¤‘μ”ν• κµ¬μ΅°μ  μ •λ³΄λ¥Ό λ³΄μ΅΄ν•  μ μμµλ‹λ‹¤.


μμ‹ μ‘μ© λ¶„μ•Ό:

- 3D μ¤μΊ” λ°μ΄ν„°μ λ‹¨μν™”: λ³µμ΅ν• 3D μ¤μΊ” λ°μ΄ν„°μ—μ„ μ¤‘μ”ν• ν¬μΈνΈλ“¤λ§μ„ μ„ νƒν•μ—¬ ν›„μ† μ²λ¦¬λ¥Ό κ°€λ³κ² λ§λ“­λ‹λ‹¤.

- λ΅λ΄‡ κ³µν•™: λ΅λ΄‡μ΄ μΈμ‹ν•λ” ν™κ²½ λ°μ΄ν„°λ¥Ό μ••μ¶•ν•κ±°λ‚ λ‹¨μν™”ν•  λ• μ‚¬μ©λ©λ‹λ‹¤.

- AR/VR: μ‹¤μ‹κ°„μΌλ΅ λ€κ·λ¨ 3D λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•λ” κ³Όμ •μ—μ„ FPSλ¥Ό ν†µν•΄ κ³„μ‚°λ‰μ„ μ¤„μ΄κ³  μ„±λ¥μ„ ν–¥μƒμ‹ν‚µλ‹λ‹¤.


# κ²°λ΅ 

FPS μ•κ³ λ¦¬μ¦μ€ **λ€κ·λ¨ ν¬μΈνΈ ν΄λΌμ°λ“ λ°μ΄ν„° μ²λ¦¬μ—μ„ λ€ν‘ ν¬μΈνΈλ¥Ό μ„ νƒν•λ” ν¨μ¨μ μ΄κ³  μ§κ΄€μ μΈ λ°©λ²•**μ…λ‹λ‹¤. μ΄ μ•κ³ λ¦¬μ¦μ€ **μ¤‘μ”ν• μ •λ³΄λ¥Ό λ³΄μ΅΄ν•λ©΄μ„λ„ κ³„μ‚° λΉ„μ©μ„ ν¬κ² μ¤„μΌ μ μκΈ°** λ•λ¬Έμ—, λ‹¤μ–‘ν• μ‘μ© λ¶„μ•Όμ—μ„ ν•µμ‹¬μ μΈ μ—­ν• μ„ μν–‰ν•©λ‹λ‹¤. **κ°„λ‹¨ν• κµ¬ν„κ³Ό κ°•λ ¥ν• μ„±λ¥** λ•λ¶„μ—, FPSλ” λ§μ€ 3D μ²λ¦¬ λ° λ¶„μ„ μ•κ³ λ¦¬μ¦μ ν•„μμ μΈ μ „μ²λ¦¬ λ„κµ¬λ΅ μλ¦¬ μ΅κ³  μμµλ‹λ‹¤.
---
title:  "Depth Estimation에 대해 (in computer vision)" 
categories: research
tag: [python, studying, 3D, point cloud, computer vision, cv, depth estimation]
date: 2024-07-29
toc: true
sidebar:
    nav: "docs"
last_modified_at: 2024-07-30
---

깊이 추정은 컴퓨터 비전과 로봇 공학에서 중요한 과제로, 장면에서 객체까지의 거리를 파악하는 기술입니다. 다양하게 활용되며 연구되고 있으며, 실 세계를 이해하는데 근간이 되는 기술이기 때문에 정리할 필요가 있어 이렇게 글을 쓰게 되었습니다. (본인 공부 및 기록용)😁

# 깊이 추정(Depth Estimation)이란?
깊이 추정은 보는 주체와 객체까지의 거리를 파악하는 기술입니다. 이러한 정보는 자율주행, 3D 모델링, 증강 현실 등 다양한 분야에서 이용되고 있습니다. 

# 깊이 추정 방법
깊이 추정 방법에는 다양한 센서들을 활용해 다양한 방법들이 존재하며 본 글에서는 간략하게 설명하고 이후 자세히 다룰 예정입니다. 링크 또한 참조할 예정.

## 1. 전통적인 방법
사람이 객체의 거리와 3차원 정보를 얻는 것과 비슷한 원리로, 기하학적 원리와 알고리즘에 기반합니다.
### 1-1. [삼각 측량(Triangulation)](https://en.wikipedia.org/wiki/Triangulation)
- "두 지점의 알려진 위치와 각도"를 이용하여 같이 보는 지점(overview)까지의 거리를 계산합니다. 
- 주로 여러 카메라을 이용하는 시스템에서 사용됩니다. (stereo 포함)

![Triangulation Example]({{site.url}}/assets/images/triangulation.png)
*Figure 1: Triangulation example [image.](https://en.wiktionary.org/wiki/triangulation)*

### 1-2. [SfM(Structure from Motion)](https://en.wikipedia.org/wiki/Structure_from_motion)
- "다른 시점"에서 여러 이미지를 캡처하고, 이 이미지들 사이의 특징점의 움직임을 분석하여 3D 구조를 재구성하는 방법입니다.
- 카메라가 움직여야 하며, 충분한 특징점들을 추적할 수 있어야 합니다.

### 1-3. [Optical Flow](https://en.wikipedia.org/wiki/Optical_flow)
- "같은 지점"의 "연속된 프레임에서" "픽셀 움직임"을 분석하여 깊이 정보를 추정합니다.
- 주로 동영상이나 연속 이미지에서 사용됩니다.


## 2. Lidar를 사용하는 방법
Lidar(Light Detection and Ranging)는 레이저 빔을 사용하여 돌아올 때 정보를 통해 환경의 깊이 정보를 측정하는 기술입니다. 이 방법은 비용이 비싸지만, 다양한 환경에서도 간단하면서도 높은 정확도와 해상도를 제공합니다.

## 3. 단안 카메라를 사용하는 방법
단안 카메라(Monocular)를 사용하는 깊이 추정은 하나의 이미지에서 깊이 정보를 추출하는 방법입니다. 일반적인 카메라로도 가능하지만 성능이 아직 부족하다는 단점이 있습니다.
### 3-1. 단일 이미지 깊이 추정

### 3-2. 기계 학습 기반 방법

## 4. 스테레오 카메라를 사용하는 방법
두 개의 카메라를 사용하여 깊이 정보를 추정하는 방법입니다. 인간의 두 눈으로 깊이를 인식하는 방식과 유사합니다.

### 4-1. 스테레오 매칭
- 두 카메라로부터 얻은 이미지를 비교하여 각 점의 시차(Disparity)를 계산합니다.
- 시차를 이용하여 각 점까지의 깊이를 추정합니다.

### 4-2. 에피폴라 기하학
- 두 카메라의 위치와 방향을 기반으로 에피폴라 선[Epipolar Line](https://en.wikipedia.org/wiki/Epipolar_geometry)을 사용하여 깊이 정보를 계산합니다.
- 정확한 카메라 캘리브레이션이 필요합니다. (높은 계산 비용)

### 4.3. 스테레오 카메라 설정
- 두 카메라 사이의 베이스라인(기준선) 거리를 알면, 시차를 통해 깊이를 정확하게 계산할 수 있습니다.